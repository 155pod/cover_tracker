<% content_for(:head) do %>
  <%= javascript_pack_tag 'admin' %>
<% end %>

<% content_for(:nav) do %>
  <nav class="navbar navbar-expand-lg navbar-light bg-light position-sticky top-0 border-bottom" style="z-index: 9999;">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Tracker</a>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="watch_together_enabled" style="cursor: pointer;" autocomplete="off">
        <label class="form-check-label" for="watch_together_enabled">Listen Together</label>
      </div>
    </div>
  </nav>
<% end %>

<div class="mb-4 text-end text-nowrap">
  <%= link_to admin_archived_path(password: params[:password]), { class: "btn btn-secondary btn-md" } do %>
    <i class="bi bi-archive"></i>&nbsp;&nbsp;View archived (<%= Submission.discarded.count %>)
  <% end %>
</div>

<h1 class="mb-4 mt-4">Current Submissions (<%= @submissions.size %>)</h1>

<div class="mb-4 text-end text-nowrap">
  <button
    class="js-archive-submissions btn btn-danger btn-lg"
    id="archive_submissions"
  >
    <i class="bi bi-archive"></i>&nbsp;&nbsp;Archive All
  </button>
</div>

<%= render "list", submissions: @submissions, id: "submission_list" %>

<h1 class="mb-4 mt-4">Current B-Sides (<%= @b_sides.size %>)</h1>

<div class="mb-4 text-end text-nowrap">
  <button class="js-archive-b-sides btn btn-danger btn-lg" id="archive_b_sides">
    <i class="bi bi-archive"></i>&nbsp;&nbsp;Archive All B-Sides
  </button>
</div>

<%= render "list", submissions: @b_sides, id: "b_side_list" %>
